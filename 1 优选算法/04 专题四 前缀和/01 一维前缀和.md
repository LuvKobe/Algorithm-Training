### 1. 题目链接

[【模板】一维前缀和](https://www.nowcoder.com/practice/acead2f4c28c401889915da98ecdc6bf)


**题目解析：**

![Alt text](image.png)


### 2. 解法（前缀和）

**算法思路：**

a. 先预处理出来一个「前缀和」数组：
- 用 `dp[i]` 表示：`[1, i]` 区间内所有元素的和，那么 `dp[i - 1]` 里面存的就是 `[1, i - 1]` 区间内所有元素的和，那么：可得递推公式：`dp[i] = dp[i - 1] + arr[i]`；

b. 使用前缀和数组，「快速」求出「某一个区间内」所有元素的和：
- 当询问的区间是 `[l, r]` 时：区间内所有元素的和为：`dp[r] - dp[l - 1]`。

**前缀和简单示例：**

假设存在数组 `arr = [0, 1, 2, 3, 4]`（注意：前缀和数组通常从下标`1`开始，所以`arr[0]`仅作占位），我们来构建前缀和数组 `dp` 并计算区间和：

a. 构建 `dp` 数组：
   - `dp[0] = 0`（初始化，无实际元素和）
   - `dp[1] = dp[0] + arr[1] = 0 + 1 = 1`（`[1,1]` 区间和）
   - `dp[2] = dp[1] + arr[2] = 1 + 2 = 3`（`[1,2]` 区间和）
   - `dp[3] = dp[2] + arr[3] = 3 + 3 = 6`（`[1,3]` 区间和）
   - `dp[4] = dp[3] + arr[4] = 6 + 4 = 10`（`[1,4]` 区间和）

b. 计算指定区间和：
   - 比如求 `[2,4]` 区间的和，代入公式：`dp[4] - dp[1] = 10 - 1 = 9`，
   - 验证：`arr[2]+arr[3]+arr[4] = 2+3+4 = 9`，结果一致。



### 3. 模板分析

**如下所示：**

![Alt text](image-1.png)


### 4. 算法代码

**代码实现：**
```cpp
#include <iostream>
#include <vector>
using namespace std;

using LL = long long;

int main() {
    // 1. 读入数据
    int n, m;
    cin >> n >> m;
    vector<LL> arr(n + 1); // 默认初始化全为0
    for (int i = 1; i <= n; i++) cin >> arr[i];

    // 2. 预处理出来一个前缀和
    vector<LL> dp(n + 1); // 默认初始化全为0
    for (int i = 1; i <= n; i ++) dp[i] = dp[i - 1] + arr[i];

    // 3. 使用前缀和
    while (m --)
    {
        int l, r;
        cin >> l >> r;
        cout << dp[r] - dp[l - 1] << endl;
    }
}
```